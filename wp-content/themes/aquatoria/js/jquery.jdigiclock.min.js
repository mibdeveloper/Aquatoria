(function(n){n.fn.extend({jdigiclock:function(t){var i={clockImagesPath:path+"/img/digiclock/clock/",weatherImagesPath:path+"/img/digiclock/weather/",am_pm:!1,weatherLocationCode:"EUR|UA|UP009|KIEV",weatherMetric:"C",weatherUpdate:0,proxyType:"php"},t;return[].en={monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},t=n.extend(i,t),this.each(function(){var i=n(this),u=t,r,o,f,e;i.clockImagesPath=u.clockImagesPath;i.weatherImagesPath=u.weatherImagesPath;i.am_pm=u.am_pm;i.weatherLocationCode=u.weatherLocationCode;i.weatherMetric=u.weatherMetric=="C"?1:0;i.weatherUpdate=u.weatherUpdate;i.proxyType=u.proxyType;i.currDate="";i.timeUpdate="";r='<div id="plugin_container">';r+='<p id="left_arrow"><img src="'+path+'/img/digiclock/icon_left.png" alt="Alternate Text" /><\/p>';r+='<p id="right_arrow"><img src="'+path+'/img/digiclock/icon_right.png" alt="Alternate Text" /><\/p>';r+='<div id="digital_container">';r+='<div id="clock"><\/div>';r+='<div id="weather"><\/div>';r+="<\/div>";r+='<div id="forecast_container"><\/div>';r+="<\/div>";i.html(r);i.displayClock(i);i.displayWeather(i);o=(n("#plugin_container>div").length-1)*310;f=function(){n("#right_arrow").unbind("click",f);n("#plugin_container > div").filter(function(t){n(this).animate({left:t*310-310+"px"},240,function(){t==0?n(this).appendTo("#plugin_container").css({left:o+"px"}):n("#right_arrow").bind("click",f)})})};n("#right_arrow").bind("click",f);e=function(){n("#left_arrow").unbind("click",e);n("#plugin_container > div:last").prependTo("#plugin_container").css({left:"-310px"});n("#plugin_container > div").filter(function(t){n(this).animate({left:t*310+"px"},240,function(){t!=0?n(this).appendTo("#plugin_container").css({left:o+"px"}):n("#left_arrow").bind("click",e)})})};n("#left_arrow").bind("click",e)})}});n.fn.displayClock=function(t){n.fn.getTime(t);setTimeout(function(){n.fn.displayClock(t)},n.fn.delay())};n.fn.displayWeather=function(t){n.fn.getWeather(t);t.weatherUpdate>0&&setTimeout(function(){n.fn.displayWeather(t)},t.weatherUpdate*6e4)};n.fn.delay=function(){var n=new Date;return(60-n.getSeconds())*1e3};n.fn.getTime=function(t){var a=new Date,y=new Date,i,o,e,h,u,p,s,f;y.setTime(a.getTime()-6e4);u="";i=a.getHours();o=a.getMinutes();e=y.getHours();h=y.getMinutes();t.am_pm&&(p=i>11?"pm":"am",i=i>12?i-12:i,e=e>12?e-12:e);i=(i<10?"0":"")+i;o=(o<10?"0":"")+o;e=(e<10?"0":"")+e;h=(h<10?"0":"")+h;switch(a.getDay()){case 0:s="Вс";break;case 1:s="Пн";break;case 2:s="Вт";break;case 3:s="Ср";break;case 4:s="Чт";break;case 5:s="Пт";break;case 6:s="Сб"}switch(a.getMonth()){case 1:f="Янв";break;case 2:f="Фев";break;case 3:f="Мар";break;case 4:f="Апр";break;case 5:f="Май";break;case 6:f="Июн";break;case 7:f="Июл";break;case 8:f="Авг";break;case 9:f="Сен";break;case 10:f="Окт";break;case 11:f="Ноя";break;case 12:f="Дек"}t.currDate=s+",&nbsp;"+a.getDate()+"&nbsp;"+f;t.timeUpdate=t.currDate+",&nbsp;"+i+":"+o;var r=e.substr(0,1),c=e.substr(1,1),l=h.substr(0,1),v=h.substr(1,1);u+='<div id="hours"><div class="line"><\/div>';u+='<div id="hours_bg"><img src="'+t.clockImagesPath+'clockbg1.png" /><\/div>';u+='<img src="'+t.clockImagesPath+r+'.png" id="fhd" class="first_digit" />';u+='<img src="'+t.clockImagesPath+c+'.png" id="shd" class="second_digit" />';u+="<\/div>";u+='<div id="minutes"><div class="line"><\/div>';t.am_pm&&(u+='<div id="am_pm"><img src="'+t.clockImagesPath+p+'.png" /><\/div>');u+='<div id="minutes_bg"><img src="'+t.clockImagesPath+'clockbg1.png" /><\/div>';u+='<img src="'+t.clockImagesPath+l+'.png" id="fmd" class="first_digit" />';u+='<img src="'+t.clockImagesPath+v+'.png" id="smd" class="second_digit" />';u+="<\/div>";t.find("#clock").html(u);v!="9"&&(l=l+"1");h=="59"&&(l="511");setTimeout(function(){n("#fmd").attr("src",t.clockImagesPath+l+"-1.png");n("#minutes_bg img").attr("src",t.clockImagesPath+"clockbg2.png")},200);setTimeout(function(){n("#minutes_bg img").attr("src",t.clockImagesPath+"clockbg3.png")},250);setTimeout(function(){n("#fmd").attr("src",t.clockImagesPath+l+"-2.png");n("#minutes_bg img").attr("src",t.clockImagesPath+"clockbg4.png")},400);setTimeout(function(){n("#minutes_bg img").attr("src",t.clockImagesPath+"clockbg5.png")},450);setTimeout(function(){n("#fmd").attr("src",t.clockImagesPath+l+"-3.png");n("#minutes_bg img").attr("src",t.clockImagesPath+"clockbg6.png")},600);setTimeout(function(){n("#smd").attr("src",t.clockImagesPath+v+"-1.png");n("#minutes_bg img").attr("src",t.clockImagesPath+"clockbg2.png")},200);setTimeout(function(){n("#minutes_bg img").attr("src",t.clockImagesPath+"clockbg3.png")},250);setTimeout(function(){n("#smd").attr("src",t.clockImagesPath+v+"-2.png");n("#minutes_bg img").attr("src",t.clockImagesPath+"clockbg4.png")},400);setTimeout(function(){n("#minutes_bg img").attr("src",t.clockImagesPath+"clockbg5.png")},450);setTimeout(function(){n("#smd").attr("src",t.clockImagesPath+v+"-3.png");n("#minutes_bg img").attr("src",t.clockImagesPath+"clockbg6.png")},600);setTimeout(function(){n("#fmd").attr("src",t.clockImagesPath+o.substr(0,1)+".png")},800);setTimeout(function(){n("#smd").attr("src",t.clockImagesPath+o.substr(1,1)+".png")},800);setTimeout(function(){n("#minutes_bg img").attr("src",t.clockImagesPath+"clockbg1.png")},850);o=="00"&&(t.am_pm?i=="00"?(r=r+"1",i="12"):i=="01"?(r="001",c="111"):r=r+"1":(i!="10"&&(r=r+"1"),i=="20"&&(r="1"),i=="00"&&(r=r+"1",c=c+"11")),setTimeout(function(){n("#fhd").attr("src",t.clockImagesPath+r+"-1.png");n("#hours_bg img").attr("src",t.clockImagesPath+"clockbg2.png")},200),setTimeout(function(){n("#hours_bg img").attr("src",t.clockImagesPath+"clockbg3.png")},250),setTimeout(function(){n("#fhd").attr("src",t.clockImagesPath+r+"-2.png");n("#hours_bg img").attr("src",t.clockImagesPath+"clockbg4.png")},400),setTimeout(function(){n("#hours_bg img").attr("src",t.clockImagesPath+"clockbg5.png")},450),setTimeout(function(){n("#fhd").attr("src",t.clockImagesPath+r+"-3.png");n("#hours_bg img").attr("src",t.clockImagesPath+"clockbg6.png")},600),setTimeout(function(){n("#shd").attr("src",t.clockImagesPath+c+"-1.png");n("#hours_bg img").attr("src",t.clockImagesPath+"clockbg2.png")},200),setTimeout(function(){n("#hours_bg img").attr("src",t.clockImagesPath+"clockbg3.png")},250),setTimeout(function(){n("#shd").attr("src",t.clockImagesPath+c+"-2.png");n("#hours_bg img").attr("src",t.clockImagesPath+"clockbg4.png")},400),setTimeout(function(){n("#hours_bg img").attr("src",t.clockImagesPath+"clockbg5.png")},450),setTimeout(function(){n("#shd").attr("src",t.clockImagesPath+c+"-3.png");n("#hours_bg img").attr("src",t.clockImagesPath+"clockbg6.png")},600),setTimeout(function(){n("#fhd").attr("src",t.clockImagesPath+i.substr(0,1)+".png")},800),setTimeout(function(){n("#shd").attr("src",t.clockImagesPath+i.substr(1,1)+".png")},800),setTimeout(function(){n("#hours_bg img").attr("src",t.clockImagesPath+"clockbg1.png")},850))};n.fn.getWeather=function(t){t.find("#weather").html('<p class="loading">Update Weather ...<\/p>');t.find("#forecast_container").html('<p class="loading">Update Weather ...<\/p>');var i=t.weatherMetric==1?"C":"F";url=path+"/proxy.php?location="+t.weatherLocationCode+"&metric="+t.weatherMetric;n.getJSON(url,function(r){var s,h,o,f,c,u,e;t.find("#weather .loading, #forecast_container .loading").hide();s='<p class="temp">'+r.curr_temp+'&deg;<span class="metric">'+i+"<\/span><\/p>";t.find("#weather").css("background","url("+t.weatherImagesPath+r.curr_icon+".png) 50% 100% no-repeat");h='<div id="local"><p class="city">Евпатория<\/p><p>'+r.curr_text+"<\/p><\/div>";h+='<div id="temp"><p id="date">'+t.currDate+"<\/p>"+s+"<\/div>";t.find("#weather").html(h);t.find("#forecast_container").append('<div id="current"><\/div>');o=s+'<p class="high_low">'+r.day_htemp+"&deg;&nbsp;/&nbsp;"+r.day_ltemp+"&deg;<\/p>";o+='<p class="city">Евпатория<\/p>';o+='<p class="text">'+r.curr_text+"<\/p>";t.find("#current").css("background","url("+t.weatherImagesPath+r.curr_icon+".png) 50% 0 no-repeat").append(o);t.find("#forecast_container").append('<ul id="forecast"><\/ul>');r.forecast.shift();for(f in r.forecast){c=new Date(r.forecast[f].day_date);switch(c.getDay()){case 0:u="Вс";break;case 1:u="Пн";break;case 2:u="Вт";break;case 3:u="Ср";break;case 4:u="Чт";break;case 5:u="Пт";break;case 6:u="Сб"}e="<li>";e+="<p>"+u+"<\/p>";e+='<img src="'+t.weatherImagesPath+r.forecast[f].day_icon+'.png" alt="'+r.forecast[f].day_text+'" title="'+r.forecast[f].day_text+'" />';e+="<p>"+r.forecast[f].day_htemp+"&deg;&nbsp;/&nbsp;"+r.forecast[f].day_ltemp+"&deg;<\/p>";e+="<\/li>";t.find("#forecast").append(e)}t.find("#forecast_container").append('<div id="update"><img src="'+path+'/img/digiclock/refresh_01.png" alt="reload" title="reload" id="reload" />'+t.timeUpdate+"<\/div>");n("#reload").click(function(){t.find("#weather").html("");t.find("#forecast_container").html("");n.fn.getWeather(t)})})}})(jQuery);jQuery(document).ready(function(n){n("#digiclock").jdigiclock()});
//# sourceMappingURL=jquery.jdigiclock.min.js.map
